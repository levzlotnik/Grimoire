#!/usr/bin/env bash

# Set GRIMOIRE_ROOT to the directory containing this script
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
export GRIMOIRE_ROOT="${GRIMOIRE_ROOT:-$SCRIPT_DIR}"

exec swipl \
  -g "ensure_loaded('$GRIMOIRE_ROOT/src/grimoire.pl'), ensure_loaded('$GRIMOIRE_ROOT/src/interface/cli.pl')" \
  -t "main" \
  -- "$@"
